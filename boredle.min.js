(()=>{let e=document,t=0,r=0,i={none:"",message:"display:flex;position:absolute;top:0;right:0;left:0;margin:auto;top:25%;width:fit-content;text-align:center;height:auto;background:white;border:1px solid black;color:black;",bWindow:"display: flex;flex-direction: column;position: fixed;background: white;border-radius: 5px;overflow: hidden;box-shadow: 0px 12px 26px -9px rgba(189, 189, 189, 1);-webkit-box-shadow: 0px 12px 26px -9px rgba(189, 189, 189, 1);transition: min-width .25s, min-height .25s;z-index: 999999;min-width:200px;min-height:300px;bottom:20px;right:20px;",bTitle:"display:flex;width:100%;height:25px;background:green;flex-direction:row;justify-content:space-between;align-items:center;background:rgb(202,202,202);background:linear-gradient(0deg, rgba(202,202,202,1) 0%, rgba(202,202,202,1) 80%, rgba(232,233,232,1) 100%);border-bottom:1px solid darkgrey;",bButtons:"padding:0 5px;display:flex;justify-content:center;align-items:center;",bButtonsButton:"display:flex;width:15px;height:15px;justify-content:center;align-items:center;border-radius:50%;border:1px solid darkgrey;margin:0 5px;text-align:center;padding:0;",decrease:"background:rgb(246,244,22);padding-bottom:1px;cursor:pointer;",increase:"background: rgb(4, 177, 4);cursor:pointer;",bBoard:"display:flex;width:100%;flex-direction:column;margin:0 auto;",bBoardRow:"height:auto;width:100%;display:flex;justify-content:center;align-items:center;",bBoardCell:"border:1px solid #d3d6da;margin:2px;justify-content:center;align-items:center;display:flex;width:22px;height:22px;font-size:16px;color:black;background:white;transition:background 1s;font-family:Arial;",bKeyboard:"margin-top:10px;",bKeyboardRow:"height:auto;width:100%;display:flex;justify-content:center;align-items:center;",bKeyboardKey:"margin:1%;justify-content:center;align-items:center;display:flex;background:#d3d6da;width:16px;height:18px;font-size:14px;cursor:pointer;color:black;font-family:Arial;"},n=v("div","id","boredle-window",i.bWindow,e.body),o=v("div","class","boredle-title",i.bTitle,n),l=v("div","class","boredle-buttons",i.bButtons,o),s=v("button","id","decrease",i.decrease+i.bButtonsButton,l),a=v("button","id","increase",i.increase+i.bButtonsButton,l),d=v("p","class","boredle-streak","position:absolute;font-size:12px;left:0;right:0;margin:auto;top:-20px;text-align:center;color:black;max-width:100px;background:white;",n);d.innerText=`Streak: ${r}`;let c=v("div","id","boredle-body",i.none,n),p=v("div","class","boredle-board",i.bBoard,c),b=[],g=[];for(let e=0;e<6;e++){let e=v("div","class","boredle-row",i.bBoardRow,p);b.push(e);for(let t=0;t<5;t++){let t=v("div","class","empty",i.bBoardCell,e);g.push(t)}}let h=v("div","class","boredle-keyboard",i.bKeyboard,c),u="Q W E R T Y U I O P A S D F G H J K L backspace Z X C V B N M enter".split(" "),x=[],y=[],f=10;for(let e=0;e<3;e++){let e=v("div","class","keyboard-row",i.bKeyboardRow,h);x.push(e);for(let t=0;t<f;t++){let r=v("div","class","key",i.bKeyboardKey,e);r.setAttribute("id",u[t]),r.innerText=u[t],y.push(r)}u.splice(0,f),f=9}let m=y[19];m.removeAttribute("class"),m.innerText="⌫",m.setAttribute("style",m.getAttribute("style")+"background: rgb(255, 91, 91);color: white;");let w=y[27];w.removeAttribute("class"),w.innerText="➔",w.setAttribute("style",w.getAttribute("style")+"background: rgb(66, 211, 66);color: white;"),y.splice(19,1),y.splice(26,1);let k,A=[];for(let t of e.querySelectorAll("h1, h2, h3, h4, h5, h6, p, a, ul, ol, span, div")){let e=t.innerText.replace(/[\n\r]+/g," ").normalize("NFKD").toUpperCase().split(" ");for(let t of e)5==(t=t.replace(/[^A-Za-z]/g,"")).length&&t.split("").filter(e=>["A","E","I","O","U"].indexOf(e)).length>1&&-1==A.indexOf(t)&&A.push(t)}function v(t,r,i,n,o){let l=e.createElement(t);return l.setAttribute(r,i),l.setAttribute("style",n),o.appendChild(l),l}function T(e,t,r){e.style.width=`${parseInt(e.style.width.replace("px",""))+t}px`,e.style.height=`${parseInt(e.style.height.replace("px",""))+t}px`,e.style.fontSize=`${parseInt(e.style.fontSize.replace("px",""))+r}px`}function B(t,r=!1){return r?e.querySelectorAll(t):e.querySelector(t)}0!==A.length?(k=A[Math.floor(Math.random()*A.length)],A.splice(A.indexOf(k),1)):$("Page has no words!",5e3,()=>{n.remove()}),a.addEventListener("click",()=>{if("450px"!=n.style.minWidth){n.style.minWidth=`${parseInt(n.style.minWidth.replace("px",""))+50}px`,n.style.minHeight=`${parseInt(n.style.minHeight.replace("px",""))+50}px`;for(let e of g)T(e,5,2);for(let e of y.concat(m,w))T(e,2,2)}}),s.addEventListener("click",()=>{if("100px"!=n.style.minWidth){n.style.minWidth=`${parseInt(n.style.minWidth.replace("px",""))-50}px`,n.style.minHeight=`${parseInt(n.style.minHeight.replace("px",""))-50}px`;for(let e of g)T(e,-5,-2);for(let e of y.concat(m,w))T(e,-2,-2)}});for(let e of y)e.addEventListener("click",e=>{if(B(".pending",!0).length<5){let t=B(".empty",!0);t[0].innerText=e.target.id,t[0].setAttribute("class","pending")}else $("No room! Use backspace!",1e3,()=>1)});function S(){t=0;for(let e of g)e.setAttribute("class","empty"),e.style.background="white",e.innerText="";for(let e of y)e.style.background="#d3d6da";0!==A.length?(k=A[Math.floor(Math.random()*A.length)],A.splice(A.indexOf(k),1)):$("Out of words!",6e4,()=>{n.remove()})}function $(e,t,r){let o=v("div","id","message",i.message+`font-size:${y[0].style.fontSize}`,n);o.innerText=e,setTimeout(()=>{o.remove(),r()},t)}m.addEventListener("click",()=>{let e=B(".pending",!0);if(e.length>0){let t=e[e.length-1];t.innerText="",t.setAttribute("class","empty")}else $("The row is empty...",1e3,()=>1)}),w.addEventListener("click",e=>{if(5==B(".pending",!0).length){let e=B(".pending",!0),i=Array.from(B(".pending",!0)).map(e=>e.innerText),n=k.split(""),o=Array.from(y).map(e=>e.innerText),l={};for(let e=0;e<5;e++)n[e]!==i[e]&&(l[n[e]]=l[n[e]]?l[n[e]]+1:1);for(let t=0;t<i.length;t++){let r=y[o.indexOf(i[t])],s=i[t];n[t]===s?(l[s]=l[s]-1,e[t].style.background="green",e[t].style.color="white",r.style.background="green",r.style.color="white",e[t].setAttribute("class","correct")):-1!==n.indexOf(s)&&l[s]>0?(l[s]=l[s]-1,e[t].style.background="#c9b458",e[t].style.color="white",r.style.background="#c9b458",r.style.color="white",e[t].setAttribute("class","inword")):(e[t].style.background="grey",e[t].style.color="white","green"!==r.style.background&&"yellow"!==r.style.background&&(r.style.background="#787c7e",r.style.color="white"),e[t].setAttribute("class","outword"))}5==b[t].querySelectorAll(".correct").length?($("Nice! You win!",2e3,()=>{S(),t=0}),d.innerText=`Streak: ${++r}`):5==t&&0==b[t].querySelectorAll(".empty").length?($(`The word was "${k}"`,3e3,()=>{S(),t=0}),r=0,d.innerText=`Streak: ${r}`):t+=1}else $("Fill the current row to enter...",1e3,()=>1)})})();